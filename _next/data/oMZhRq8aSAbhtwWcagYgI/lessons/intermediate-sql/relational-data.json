{"pageProps":{"post":{"attributes":{},"html":"<p>So far we&#39;ve done a one to one matching of records. We&#39;ve used a record in a database to represent one item: one band member, band, etc.</p>\n<p>Now we&#39;re going to get into records that can relate to each other. Let&#39;s think about albums. A recipe has multiple ingredients. That <strong>has</strong> word is key here. It means there is a relationship. A single recipe has many ingredients. An ingredient can also be in many recipes. A tomato is both in pizza sauce and in a BLT. This is called a many-to-many relationship.</p>\n<p>There&#39;s also one-to-many relationships, like imagine if we had multiple photos of each of our ingredients. A single ingredient will have five photos. And those photos will only will only belong to one ingredient. A photo of a green pepper doesn&#39;t make sense to belong to anything besides the green pepper ingredient.</p>\n<p>There can also exist one-to-one relationships but in general you would just make those the same record all together. You could split up the type and title into two tables, but why would you? Then you have a data sync problem. What if a band renames themselves? Ex: On a Friday → Radiohead, Prince → The Artist Formerly Known as Prince, The Quarrymen → The Beatles. Anyone that has ever tried to manually keep data in sync in two+ places knows eventually you will have issues.</p>\n<p>Luckily we can use relational data to have one table of bands, and one table of albums.</p>\n<pre><code class=\"language-sql\">SELECT * FROM Album LIMIT 5;\n</code></pre>\n<p>Notice that we&#39;re just getting ArtistId (a number) instead of the actual name of the band. That&#39;s not what we want, we want to see the name of the album and the name of the band. Enter JOINs. This allows us to join two tables based on common data. Let&#39;s see how to do that.</p>\n<pre><code class=\"language-sql\">SELECT\n    Artist.Name, Album.Title\nFROM\n    Album\nJOIN\n    Artist ON\n        Album.ArtistId = Artist.ArtistId\nLIMIT 5;\n</code></pre>\n<blockquote>\n<p>Once we start getting into longer queries (especially when in code) I start spacing it out using new lines to make it easier to read. Makes it easier to understand at a glance.</p>\n</blockquote>\n<p>We JOIN&#39;d the Artist table to the Album table based on them sharing a common ArtistId. Pretty cool, right? Let&#39;s look at a few more tricks here.</p>\n<h2>Table Aliases</h2>\n<pre><code class=\"language-sql\">SELECT\n    b.Name, a.Title\nFROM\n    Album a\nJOIN\n    Artist b ON\n        a.ArtistId = b.ArtistId\nLIMIT 5;\n</code></pre>\n<p>You can give tables aliases so they&#39;re easier to refer to. Some of the table names can get quite long so it&#39;s possible that this can make it more readable. In this case I&#39;d argue that the single letter variable names make it <em>less</em> readable, that&#39;s up to you.</p>\n<h2>You can use WHERE!</h2>\n<pre><code class=\"language-sql\">SELECT\n    Artist.Name, Album.Title\nFROM\n    Album\nJOIN\n    Artist ON\n        Album.ArtistId = Artist.ArtistId\nWHERE\n    Artist.Name = &#39;Nirvana&#39;;\n\nSELECT\n    Artist.Name, Album.Title\nFROM\n    Album\nJOIN\n    Artist ON\n        Album.ArtistId = Artist.ArtistId\nWHERE\n    Album.Title = &#39;IV&#39;;\n\nSELECT\n    Artist.Name, Album.Title\nFROM\n    Album\nJOIN\n    Artist ON\n        Album.ArtistId = Artist.ArtistId\nWHERE\n    Album.Title LIKE &#39;%live%&#39;;\n</code></pre>\n<p>As you can see, once you set up the JOIN and how you want to join the tables together, you can start filtering your results based on either table. The first query we askd for just Nirvana&#39;s albums, the second is just albums named <code>IV</code>, and the third we&#39;re asking for any album that <code>live</code> in it.</p>\n<h2>Joining more than two tables</h2>\n<pre><code class=\"language-sql\">SELECT\n    Artist.Name, Album.Title, Track.Name\nFROM\n    Album\nJOIN\n    Artist ON\n        Album.ArtistId = Artist.ArtistId\nJOIN\n    Track ON\n        Track.AlbumId = Album.AlbumId\nWHERE\n    Album.Title = &#39;IV&#39;;\n</code></pre>\n<p>As you can see, you can just keep joining tables as long you have ways to join the table.</p>\n<pre><code class=\"language-sql\">SELECT\n    Artist.Name, Album.Title, Track.Name, Genre.Name\nFROM\n    Album\nJOIN\n    Artist ON\n        Album.ArtistId = Artist.ArtistId\nJOIN\n    Track ON\n        Track.AlbumId = Album.AlbumId\nJOIN\n    Genre ON\n        Track.GenreId = Genre.GenreId\nWHERE\n    Artist.Name = &#39;Foo Fighters&#39;;\n</code></pre>\n<p>You can just keep joining as you need to.</p>\n","markdown":"So far we've done a one to one matching of records. We've used a record in a database to represent one item: one band member, band, etc.\n\nNow we're going to get into records that can relate to each other. Let's think about albums. A recipe has multiple ingredients. That **has** word is key here. It means there is a relationship. A single recipe has many ingredients. An ingredient can also be in many recipes. A tomato is both in pizza sauce and in a BLT. This is called a many-to-many relationship.\n\nThere's also one-to-many relationships, like imagine if we had multiple photos of each of our ingredients. A single ingredient will have five photos. And those photos will only will only belong to one ingredient. A photo of a green pepper doesn't make sense to belong to anything besides the green pepper ingredient.\n\nThere can also exist one-to-one relationships but in general you would just make those the same record all together. You could split up the type and title into two tables, but why would you? Then you have a data sync problem. What if a band renames themselves? Ex: On a Friday → Radiohead, Prince → The Artist Formerly Known as Prince, The Quarrymen → The Beatles. Anyone that has ever tried to manually keep data in sync in two+ places knows eventually you will have issues.\n\nLuckily we can use relational data to have one table of bands, and one table of albums.\n\n```sql\nSELECT * FROM Album LIMIT 5;\n```\n\nNotice that we're just getting ArtistId (a number) instead of the actual name of the band. That's not what we want, we want to see the name of the album and the name of the band. Enter JOINs. This allows us to join two tables based on common data. Let's see how to do that.\n\n```sql\nSELECT\n    Artist.Name, Album.Title\nFROM\n    Album\nJOIN\n    Artist ON\n        Album.ArtistId = Artist.ArtistId\nLIMIT 5;\n```\n\n> Once we start getting into longer queries (especially when in code) I start spacing it out using new lines to make it easier to read. Makes it easier to understand at a glance.\n\nWe JOIN'd the Artist table to the Album table based on them sharing a common ArtistId. Pretty cool, right? Let's look at a few more tricks here.\n\n## Table Aliases\n\n```sql\nSELECT\n    b.Name, a.Title\nFROM\n    Album a\nJOIN\n    Artist b ON\n        a.ArtistId = b.ArtistId\nLIMIT 5;\n```\n\nYou can give tables aliases so they're easier to refer to. Some of the table names can get quite long so it's possible that this can make it more readable. In this case I'd argue that the single letter variable names make it _less_ readable, that's up to you.\n\n## You can use WHERE!\n\n```sql\nSELECT\n    Artist.Name, Album.Title\nFROM\n    Album\nJOIN\n    Artist ON\n        Album.ArtistId = Artist.ArtistId\nWHERE\n    Artist.Name = 'Nirvana';\n\nSELECT\n    Artist.Name, Album.Title\nFROM\n    Album\nJOIN\n    Artist ON\n        Album.ArtistId = Artist.ArtistId\nWHERE\n    Album.Title = 'IV';\n\nSELECT\n    Artist.Name, Album.Title\nFROM\n    Album\nJOIN\n    Artist ON\n        Album.ArtistId = Artist.ArtistId\nWHERE\n    Album.Title LIKE '%live%';\n```\n\nAs you can see, once you set up the JOIN and how you want to join the tables together, you can start filtering your results based on either table. The first query we askd for just Nirvana's albums, the second is just albums named `IV`, and the third we're asking for any album that `live` in it.\n\n## Joining more than two tables\n\n```sql\nSELECT\n    Artist.Name, Album.Title, Track.Name\nFROM\n    Album\nJOIN\n    Artist ON\n        Album.ArtistId = Artist.ArtistId\nJOIN\n    Track ON\n        Track.AlbumId = Album.AlbumId\nWHERE\n    Album.Title = 'IV';\n```\n\nAs you can see, you can just keep joining tables as long you have ways to join the table.\n\n```sql\nSELECT\n    Artist.Name, Album.Title, Track.Name, Genre.Name\nFROM\n    Album\nJOIN\n    Artist ON\n        Album.ArtistId = Artist.ArtistId\nJOIN\n    Track ON\n        Track.AlbumId = Album.AlbumId\nJOIN\n    Genre ON\n        Track.GenreId = Genre.GenreId\nWHERE\n    Artist.Name = 'Foo Fighters';\n```\n\nYou can just keep joining as you need to.\n","slug":"relational-data","title":"Relational Data","section":"Intermediate SQL","icon":"table","filePath":"/home/runner/work/complete-intro-to-sqlite/complete-intro-to-sqlite/lessons/04-intermediate-sql/A-relational-data.md","nextSlug":"/lessons/intermediate-sql/other-types-of-joins","prevSlug":"/lessons/basic-sql/tables"}},"__N_SSG":true}